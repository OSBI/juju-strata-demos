series: trusty
services: 
  "hdfs-master": 
    charm: "cs:trusty/apache-hadoop-hdfs-master-7"
    num_units: 1
    constraints: "cpu-cores=2 mem=7168 root-disk=32768"
    annotations: 
      "gui-x": "1200"
      "gui-y": "0"
    to: 
      - "0"
  "secondary-namenode": 
    charm: "cs:trusty/apache-hadoop-hdfs-secondary-5"
    num_units: 1
    constraints: "cpu-cores=2 mem=7168 root-disk=32768"
    annotations: 
      "gui-x": "1200"
      "gui-y": "-300"
    to: 
      - "1"
  "yarn-master": 
    charm: "cs:trusty/apache-hadoop-yarn-master-5"
    num_units: 1
    constraints: "cpu-cores=2 mem=7168"
    annotations: 
      "gui-x": "1500"
      "gui-y": "300"
    to: 
      - "2"
  "compute-slave": 
    charm: "cs:trusty/apache-hadoop-compute-slave-7"
    num_units: 3
    constraints: "cpu-cores=2 mem=3072 root-disk=32768"
    annotations: 
      "gui-x": "1500"
      "gui-y": "-300"
    to: 
      - "3"
      - "4"
      - "5"
  plugin: 
    charm: "cs:trusty/apache-hadoop-plugin-5"
    annotations: 
      "gui-x": "300"
      "gui-y": "0"
  "flume-hdfs": 
    charm: "cs:trusty/apache-flume-hdfs-2"
    num_units: 1
    constraints: "cpu-cores=2 mem=7168"
    annotations: 
      "gui-x": "300"
      "gui-y": "-300"
    to: 
      - "6"
  "flume-syslog": 
    charm: "cs:trusty/apache-flume-syslog-1"
    num_units: 1
    annotations: 
      "gui-x": "600"
      "gui-y": "-300"
    to: 
      - "7"
  "rsyslog-forwarder-ha": 
    charm: "cs:trusty/rsyslog-forwarder-ha-4"
    annotations: 
      "gui-x": "900"
      "gui-y": "-300"
relations: 
  - - "yarn-master:namenode"
    - "hdfs-master:namenode"
  - - "compute-slave:datanode"
    - "hdfs-master:datanode"
  - - "plugin:namenode"
    - "hdfs-master:namenode"
  - - "rsyslog-forwarder-ha:juju-info"
    - "hdfs-master:juju-info"
  - - "rsyslog-forwarder-ha:syslog"
    - "flume-syslog:syslog"
  - - "plugin:hadoop-plugin"
    - "flume-hdfs:hadoop-plugin"
  - - "flume-syslog:flume-agent"
    - "flume-hdfs:flume-agent"
  - - "hdfs-master:secondary"
    - "secondary-namenode:secondary"
  - - "compute-slave:nodemanager"
    - "yarn-master:nodemanager"
  - - "plugin:resourcemanager"
    - "yarn-master:resourcemanager"
machines: 
  "0": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=32768"
  "1": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=32768"
  "2": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "3": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=32768"
  "4": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=32768"
  "5": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=32768"
  "6": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "7": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=1 cpu-power=100 mem=1740 root-disk=8192"