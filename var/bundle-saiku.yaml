series: trusty
services: 
  "hdfs-master": 
    charm: "cs:trusty/apache-hadoop-hdfs-master-8"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096 root-disk=32768"
    annotations: 
      "gui-x": "2097.4287109375"
      "gui-y": "289.7991943359375"
    to: 
      - "0"
  "yarn-master": 
    charm: "cs:trusty/apache-hadoop-yarn-master-6"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048"
    annotations: 
      "gui-x": "2098.031005859375"
      "gui-y": "833.1945190429688"
    to: 
      - "1"
  "compute-slave": 
    charm: "cs:trusty/apache-hadoop-compute-slave-8"
    num_units: 3
    constraints: "cpu-cores=2 mem=4096 root-disk=32768"
    annotations: 
      "gui-x": "2525.5986328125"
      "gui-y": "545.36572265625"
    to: 
      - "2"
      - "3"
      - "4"
  plugin: 
    charm: "cs:trusty/apache-hadoop-plugin-7"
    annotations: 
      "gui-x": "1701.547119140625"
      "gui-y": "560.2288208007812"
  spark: 
    charm: "cs:trusty/apache-spark-2"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    annotations: 
      "gui-x": "1300.035400390625"
      "gui-y": "288.6488037109375"
    to: 
      - "5"
  thrift: 
    charm: "cs:~f-tom-n/trusty/spark-thrift-0"
    annotations: 
      "gui-x": "1714.46240234375"
      "gui-y": "7.2483673095703125"
  tomcat: 
    charm: "cs:trusty/tomcat-1"
    num_units: 1
    constraints: "cpu-cores=4 mem=8192"
    expose: true
    annotations: 
      "gui-x": "448.5986328125"
      "gui-y": "568.36572265625"
    to: 
      - "6"
  saiku: 
    charm: "cs:~f-tom-n/trusty/saikuanalytics-enterprise-2"
    annotations: 
      "gui-x": "887.5986328125"
      "gui-y": "583.36572265625"
  mongodb: 
    charm: "cs:trusty/mongodb-26"
    num_units: 3
    constraints: "cpu-cores=2 mem=4096 root-disk=65536"
    annotations: 
      "gui-x": "1296.5986328125"
      "gui-y": "888.36572265625"
    to: 
      - "7"
      - "8"
      - "9"
relations: 
  - - "yarn-master:namenode"
    - "hdfs-master:namenode"
  - - "compute-slave:nodemanager"
    - "yarn-master:nodemanager"
  - - "compute-slave:datanode"
    - "hdfs-master:datanode"
  - - "plugin:resourcemanager"
    - "yarn-master:resourcemanager"
  - - "plugin:namenode"
    - "hdfs-master:namenode"
  - - "spark:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "spark:spark"
    - "thrift:spark"
  - - "tomcat:website"
    - "saiku:website"
  - - "spark:spark"
    - "saiku:sparkdb"
machines: 
  "0": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=32768"
  "1": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=8192"
  "2": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=32768"
  "3": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=32768"
  "4": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=32768"
  "5": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "6": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=4 cpu-power=1300 mem=15360 root-disk=8192"
  "7": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=65536"
  "8": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=65536"
  "9": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=65536"