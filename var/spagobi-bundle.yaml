series: trusty
services: 
  zookeeper: 
    charm: "cs:trusty/apache-zookeeper-0"
    num_units: 3
    constraints: "cpu-cores=2 mem=2048"
    annotations: 
      "gui-x": "-900"
      "gui-y": "1200"
    to: 
      - "2"
      - "3"
      - "4"
  "compute-slave": 
    charm: "cs:trusty/apache-hadoop-compute-slave-7"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096 root-disk=32768"
    annotations: 
      "gui-x": "0"
      "gui-y": "2100"
    to: 
      - "5"
  "yarn-master": 
    charm: "cs:trusty/apache-hadoop-yarn-master-5"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048"
    annotations: 
      "gui-x": "300"
      "gui-y": "1650"
    to: 
      - "1"
  plugin: 
    charm: "cs:trusty/apache-hadoop-plugin-5"
    annotations: 
      "gui-x": "0"
      "gui-y": "1200"
  "hdfs-master": 
    charm: "cs:trusty/apache-hadoop-hdfs-master-7"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096 root-disk=32768"
    annotations: 
      "gui-x": "-300"
      "gui-y": "1650"
    to: 
      - "0"
  "hbase-regionserver": 
    charm: "cs:~bigdata-dev/trusty/apache-hbase-17"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    annotations: 
      "gui-x": "-600"
      "gui-y": "1500"
    to: 
      - "7"
  "hbase-master": 
    charm: "cs:~bigdata-dev/trusty/apache-hbase-17"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    expose: true
    annotations: 
      "gui-x": "-600"
      "gui-y": "900"
    to: 
      - "6"
  hive: 
    charm: "cs:trusty/apache-hive-7"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048"
    annotations: 
      "gui-x": "-150"
      "gui-y": "600"
    to: 
      - "8"
  "mysql-hive": 
    charm: "cs:trusty/mysql-28"
    num_units: 1
    options: 
      "binlog-format": ROW
    annotations: 
      "gui-x": "150"
      "gui-y": "600"
    to: 
      - "9"
  spark: 
    charm: "cs:trusty/apache-spark-2"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    annotations: 
      "gui-x": "600"
      "gui-y": "900"
    to: 
      - "10"
  cassandra: 
    charm: "cs:trusty/cassandra-4"
    num_units: 3
    constraints: "cpu-cores=2 mem=4096"
    annotations: 
      "gui-x": "-600"
      "gui-y": "300"
    to: 
      - "11"
      - "12"
      - "13"
  mongodb: 
    charm: "cs:trusty/mongodb-26"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    expose: true
    annotations: 
      "gui-x": "-600"
      "gui-y": "-300"
    to: 
      - "14"
  tomcat: 
    charm: "cs:trusty/tomcat-1"
    num_units: 1
    constraints: "cpu-cores=4 mem=8192"
    expose: true
    annotations: 
      "gui-x": "150"
      "gui-y": "-600"
    to: 
      - "15"
  "mysql-metadata": 
    charm: "cs:trusty/mysql-28"
    num_units: 1
    annotations: 
      "gui-x": "-150"
      "gui-y": "-600"
    to: 
      - "16"
  spagobi: 
    charm: "cs:~ana-tomic/trusty/spagobi-5"
    annotations: 
      "gui-x": "0"
      "gui-y": "0"
  "mysql-data-master": 
    charm: "cs:trusty/mysql-28"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048 root-disk=12288"
    annotations: 
      "gui-x": "600"
      "gui-y": "300"
    to: 
      - "17"
  "postgresql-data-master": 
    charm: "cs:trusty/postgresql-27"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048 root-disk=12288"
    annotations: 
      "gui-x": "600"
      "gui-y": "-300"
    to: 
      - "18"
relations: 
  - - "yarn-master:namenode"
    - "hdfs-master:namenode"
  - - "compute-slave:nodemanager"
    - "yarn-master:nodemanager"
  - - "compute-slave:datanode"
    - "hdfs-master:datanode"
  - - "plugin:resourcemanager"
    - "yarn-master:resourcemanager"
  - - "plugin:namenode"
    - "hdfs-master:namenode"
  - - "hbase-master:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "hbase-regionserver:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "zookeeper:zookeeper"
    - "hbase-master:zookeeper"
  - - "zookeeper:zookeeper"
    - "hbase-regionserver:zookeeper"
  - - "hbase-master:master"
    - "hbase-regionserver:regionserver"
  - - "hive:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "hive:db"
    - "mysql-hive:db"
  - - "spark:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "tomcat:juju-info"
    - "spagobi:tomcat-war"
  - - "spagobi:metadatadb"
    - "mysql-metadata:db"
  - - "spagobi:mongodbds"
    - "mongodb:database"
  - - "spagobi:hiveds"
    - "hive:hive"
  - - "spagobi:cassandrads"
    - "cassandra:database"
  - - "spagobi:mysqlds"
    - "mysql-data-master:db"
  - - "spagobi:postgresqlds"
    - "postgresql-data-master:db"
  - - "spagobi:hbaseds"
    - "hbase-master:hbase"
machines: 
  "0": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=32768"
  "1": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=8192"
  "2": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=8192"
  "3": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=8192"
  "4": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=8192"
  "5": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=32768"
  "6": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "7": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "8": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=8192"
  "9": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=1 cpu-power=100 mem=1740 root-disk=8192"
  "10": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "11": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "12": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "13": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "14": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "15": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=4 cpu-power=1300 mem=15360 root-disk=8192"
  "16": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=1 cpu-power=100 mem=1740 root-disk=8192"
  "17": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=12288"
  "18": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=12288"