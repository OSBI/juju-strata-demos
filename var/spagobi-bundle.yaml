series: trusty
services: 
  zookeeper: 
    charm: "cs:trusty/apache-zookeeper-0"
    num_units: 3
    constraints: "cpu-cores=2 mem=2048"
    annotations: 
      "gui-x": "-900"
      "gui-y": "1200"
  "compute-slave": 
    charm: "cs:trusty/apache-hadoop-compute-slave-7"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096 root-disk=32768"
    annotations: 
      "gui-x": "0"
      "gui-y": "2100"
  "yarn-master": 
    charm: "cs:trusty/apache-hadoop-yarn-master-5"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048"
    annotations: 
      "gui-x": "300"
      "gui-y": "1650"
  plugin: 
    charm: "cs:trusty/apache-hadoop-plugin-5"
    annotations: 
      "gui-x": "0"
      "gui-y": "1200"
  "hdfs-master": 
    charm: "cs:trusty/apache-hadoop-hdfs-master-7"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096 root-disk=32768"
    annotations: 
      "gui-x": "-300"
      "gui-y": "1650"
  "hbase-regionserver": 
    charm: "cs:~bigdata-dev/trusty/apache-hbase-17"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    annotations: 
      "gui-x": "-600"
      "gui-y": "1500"
  "hbase-master": 
    charm: "cs:~bigdata-dev/trusty/apache-hbase-17"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    expose: true
    annotations: 
      "gui-x": "-600"
      "gui-y": "900"
  hive: 
    charm: "cs:trusty/apache-hive-7"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048"
    annotations: 
      "gui-x": "-150"
      "gui-y": "600"
  "mysql-hive": 
    charm: "cs:trusty/mysql-28"
    num_units: 1
    options: 
      "binlog-format": ROW
    annotations: 
      "gui-x": "150"
      "gui-y": "600"
  spark: 
    charm: "cs:trusty/apache-spark-2"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    annotations: 
      "gui-x": "600"
      "gui-y": "900"
  cassandra: 
    charm: "cs:trusty/cassandra-4"
    num_units: 3
    constraints: "cpu-cores=2 mem=4096"
    annotations: 
      "gui-x": "-600"
      "gui-y": "300"
  mongodb: 
    charm: "cs:trusty/mongodb-26"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    expose: true
    annotations: 
      "gui-x": "-600"
      "gui-y": "-300"
  tomcat: 
    charm: "cs:trusty/tomcat-1"
    num_units: 1
    constraints: "cpu-cores=4 mem=8192"
    expose: true
    annotations: 
      "gui-x": "150"
      "gui-y": "-600"
  "mysql-metadata": 
    charm: "cs:trusty/mysql-28"
    num_units: 1
    annotations: 
      "gui-x": "-150"
      "gui-y": "-600"
    to: 
      - "tomcat/0"
  spagobi: 
    charm: "cs:~ana-tomic/trusty/spagobi-5"
    annotations: 
      "gui-x": "0"
      "gui-y": "0"
  "mysql-data-master": 
    charm: "cs:trusty/mysql-28"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048 root-disk=12288"
    annotations: 
      "gui-x": "600"
      "gui-y": "300"
  "postgresql-data-master": 
    charm: "cs:trusty/postgresql-27"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048 root-disk=12288"
    annotations: 
      "gui-x": "600"
      "gui-y": "-300"
  "apache-phoenix": 
    charm: "cs:~bigdata-dev/trusty/apache-phoenix-2"
    annotations: 
      "gui-x": "-1200"
      "gui-y": "1200"
relations: 
  - - "apache-phoenix:hbase"
    - "hbase-regionserver:hbase"
  - - "apache-phoenix:hbase"
    - "hbase-master:hbase"
  - - "yarn-master:namenode"
    - "hdfs-master:namenode"
  - - "compute-slave:nodemanager"
    - "yarn-master:nodemanager"
  - - "compute-slave:datanode"
    - "hdfs-master:datanode"
  - - "plugin:resourcemanager"
    - "yarn-master:resourcemanager"
  - - "plugin:namenode"
    - "hdfs-master:namenode"
  - - "hbase-master:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "hbase-regionserver:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "zookeeper:zookeeper"
    - "hbase-master:zookeeper"
  - - "zookeeper:zookeeper"
    - "hbase-regionserver:zookeeper"
  - - "hbase-master:master"
    - "hbase-regionserver:regionserver"
  - - "hive:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "hive:db"
    - "mysql-hive:db"
  - - "spark:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "tomcat:juju-info"
    - "spagobi:tomcat-war"
  - - "spagobi:metadatadb"
    - "mysql-metadata:db"
  - - "spagobi:mongodbds"
    - "mongodb:database"
  - - "spagobi:hiveds"
    - "hive:hive"
  - - "spagobi:cassandrads"
    - "cassandra:database"
  - - "spagobi:mysqlds"
    - "mysql-data-master:db"
  - - "spagobi:postgresqlds"
    - "postgresql-data-master:db"
  - - "spagobi:hbaseds"
    - "hbase-master:hbase"
