series: trusty
services: 
  "hdfs-master": 
    charm: "cs:trusty/apache-hadoop-hdfs-master-7"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096 root-disk=32768"
    annotations: 
      "gui-x": "1800"
      "gui-y": "150"
    to: 
      - "0"
  "yarn-master": 
    charm: "cs:trusty/apache-hadoop-yarn-master-5"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048"
    annotations: 
      "gui-x": "1500"
      "gui-y": "150"
    to: 
      - "1"
  zookeeper: 
    charm: "cs:trusty/apache-zookeeper-0"
    num_units: 3
    constraints: "cpu-cores=2 mem=2048"
    annotations: 
      "gui-x": "-300"
      "gui-y": "150"
    to: 
      - "2"
      - "3"
      - "4"
  "compute-slave": 
    charm: "cs:trusty/apache-hadoop-compute-slave-7"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096 root-disk=32768"
    annotations: 
      "gui-x": "1597.20849609375"
      "gui-y": "601.4360298924746"
    to: 
      - "5"
  "hbase-master": 
    charm: "cs:~bigdata-dev/trusty/apache-hbase-14"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    expose: true
    annotations: 
      "gui-x": "300"
      "gui-y": "150"
    to: 
      - "6"
  "hbase-regionserver": 
    charm: "cs:~bigdata-dev/trusty/apache-hbase-14"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    annotations: 
      "gui-x": "0"
      "gui-y": "500"
    to: 
      - "7"
  plugin: 
    charm: "cs:trusty/apache-hadoop-plugin-5"
    annotations: 
      "gui-x": "750"
      "gui-y": "500"
  "mysql-hive": 
    charm: "cs:trusty/mysql-28"
    num_units: 1
    options: 
      "binlog-format": ROW
    annotations: 
      "gui-x": "1200"
      "gui-y": "150"
    to: 
      - "8"
  spark: 
    charm: "cs:trusty/apache-spark-2"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    annotations: 
      "gui-x": "600"
      "gui-y": "150"
    to: 
      - "9"
  cassandra: 
    charm: "cs:trusty/cassandra-3"
    num_units: 3
    constraints: "cpu-cores=2 mem=4096"
    annotations: 
      "gui-x": "-300"
      "gui-y": "-250"
    to: 
      - "10"
      - "11"
      - "12"
  mongodb: 
    charm: "cs:trusty/mongodb-26"
    num_units: 1
    constraints: "cpu-cores=2 mem=4096"
    annotations: 
      "gui-x": "1500"
      "gui-y": "-250"
    to: 
      - "13"
  "mysql-data-master": 
    charm: "cs:trusty/mysql-28"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048 root-disk=16384"
    annotations: 
      "gui-x": "1022.6279296875"
      "gui-y": "-900"
    to: 
      - "14"
  "postgresql-data-master": 
    charm: "cs:trusty/postgresql-27"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048 root-disk=16384"
    annotations: 
      "gui-x": "18.8570556640625"
      "gui-y": "-900"
    to: 
      - "15"
  tomcat: 
    charm: "cs:trusty/tomcat-1"
    num_units: 1
    constraints: "cpu-cores=4 mem=8192"
    annotations: 
      "gui-x": "650"
      "gui-y": "-600"
    to: 
      - "16"
  "mysql-metadata": 
    charm: "cs:trusty/mysql-28"
    num_units: 1
    annotations: 
      "gui-x": "400"
      "gui-y": "-600"
    to: 
      - "17"
  hive: 
    charm: "cs:trusty/apache-hive-6"
    num_units: 1
    constraints: "cpu-cores=2 mem=2048"
    annotations: 
      "gui-x": "900"
      "gui-y": "150"
    to: 
      - "18"
relations: 
  - - "plugin:namenode"
    - "hdfs-master:namenode"
  - - "compute-slave:datanode"
    - "hdfs-master:datanode"
  - - "yarn-master:namenode"
    - "hdfs-master:namenode"
  - - "zookeeper:zookeeper"
    - "hbase-master:zookeeper"
  - - "spark:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "hbase-master:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "hbase-master:master"
    - "hbase-regionserver:regionserver"
  - - "zookeeper:zookeeper"
    - "hbase-regionserver:zookeeper"
  - - "hbase-regionserver:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "compute-slave:nodemanager"
    - "yarn-master:nodemanager"
  - - "plugin:resourcemanager"
    - "yarn-master:resourcemanager"
  - - "hive:hadoop-plugin"
    - "plugin:hadoop-plugin"
  - - "hive:db"
    - "mysql-hive:db"
machines: 
  "0": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=32768"
  "1": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=8192"
  "2": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=8192"
  "3": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=8192"
  "4": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=8192"
  "5": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=32768"
  "6": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "7": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "8": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=1 cpu-power=100 mem=1740 root-disk=8192"
  "9": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "10": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "11": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "12": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "13": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=650 mem=7680 root-disk=8192"
  "14": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=16384"
  "15": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=16384"
  "16": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=4 cpu-power=1300 mem=15360 root-disk=8192"
  "17": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=1 cpu-power=100 mem=1740 root-disk=8192"
  "18": 
    series: trusty
    constraints: "arch=amd64 cpu-cores=2 cpu-power=700 mem=3840 root-disk=8192"
